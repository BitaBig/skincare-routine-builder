<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skincare Routine Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Josefin Sans', 'sans-serif'],
                    },
                    colors: {
                        sand: {
                            50: '#fdfcfb',
                            100: '#f5f3f0',
                            200: '#e8e4de',
                            300: '#d4cdc3',
                            400: '#b8ad9e',
                            500: '#9c8e7c',
                            600: '#7a6d5d',
                        },
                        taupe: {
                            50: '#f9f8f6',
                            100: '#f0eeea',
                            200: '#e0dbd4',
                            300: '#c9c1b5',
                            400: '#a89d8d',
                            500: '#8a7d6b',
                            600: '#6b5f4f',
                            700: '#4a4238',
                        },
                        cream: {
                            50: '#fffefb',
                            100: '#fefcf6',
                            200: '#faf6ed',
                        }
                    }
                }
            }
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body, h1, h2, h3 { font-family: 'Josefin Sans', sans-serif; }
        .ingredient-btn.selected {
            background: linear-gradient(135deg, #8a7d6b 0%, #6b5f4f 100%);
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(107, 95, 79, 0.3);
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-cream-100 via-sand-100 to-taupe-100">
    <div class="max-w-5xl mx-auto px-6 py-12">
        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-6xl font-semibold text-taupe-700 mb-3 tracking-wide">
                Skincare Routine Builder
            </h1>
            <p class="text-taupe-500 text-lg font-light tracking-wide">Build your perfect AM & PM routine with ingredient conflict detection</p>
        </div>
        
        <!-- Add Product Card -->
        <div class="bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl shadow-taupe-200/30 p-8 mb-8 border border-sand-200">
            <h2 class="text-3xl font-medium text-taupe-700 mb-6 flex items-center gap-3">
                <span class="w-10 h-10 bg-gradient-to-br from-taupe-400 to-taupe-600 rounded-full flex items-center justify-center text-white text-lg">+</span>
                Add Your Products
            </h2>
            
            <div class="relative mb-6">
                <input 
                    type="text" 
                    id="productName" 
                    placeholder="Enter the product name (e.g., CeraVe Moisturizer)"
                    class="w-full px-5 py-4 rounded-xl border-2 border-sand-200 focus:border-taupe-400 focus:outline-none transition-all text-taupe-700 placeholder-taupe-400 bg-cream-50/50 font-light"
                    autocomplete="off"
                >
                <div id="autocomplete-list" class="absolute z-10 bg-white rounded-xl shadow-lg border border-sand-200 w-full max-h-48 overflow-y-auto hidden mt-1"></div>
            </div>
            
            <h3 class="text-xl font-medium text-taupe-600 mb-4">Select Ingredients</h3>
            <div class="flex flex-wrap gap-3 mb-8">
                {% for ingredient in ingredients %}
                <button 
                    type="button" 
                    class="ingredient-btn px-5 py-2.5 rounded-full bg-sand-100 hover:bg-sand-200 text-taupe-600 font-medium transition-all duration-200 border border-sand-200 hover:border-taupe-300"
                    data-ingredient="{{ ingredient }}"
                >
                    {{ ingredient }}
                </button>
                {% endfor %}
            </div>
            
            <button 
                id="addProduct"
                class="w-full py-4 rounded-xl bg-gradient-to-r from-taupe-500 to-taupe-600 hover:from-taupe-600 hover:to-taupe-700 text-white font-semibold text-lg transition-all duration-200 shadow-lg shadow-taupe-300/40 hover:shadow-xl hover:-translate-y-0.5 tracking-wide"
            >
                + Add Product to Routine
            </button>
        </div>

        <!-- Product List -->
        <div id="productList" class="mb-8"></div>

        <!-- Conflicts -->
        <div id="conflicts" class="mb-8"></div>

        <div class="mb-6 text-center">
            <button
                id="analyzeRoutine"
                class="px-6 py-4 rounded-xl bg-gradient-to-r from-sand-400 to-sand-300 hover:from-sand-400 hover:to-sand-300 text-white font-semibold text-lg transition-all duration-200 shadow-lg shadow-taupe-300/40 hover:shadow-xl hover:-translate-y-0.5 tracking-wide"
            >
                Analyze My Routine
            </button>
        </div>

        <!-- Routines Grid -->
        <div id="routinesSection" class="grid md:grid-cols-2 gap-6" style="display: none;">
            <!-- AM Routine -->
            <div class="bg-gradient-to-br from-cream-50 to-sand-100 rounded-2xl shadow-lg p-8 border border-sand-200">
                <h2 class="text-3xl font-medium text-taupe-700 mb-6 flex items-center gap-3">
                    <span class="text-3xl"></span> Morning Routine
                </h2>
                <div id="amRoutine" class="space-y-4"></div>
            </div>
            
            <!-- PM Routine -->
            <div class="bg-gradient-to-br from-taupe-50 to-sand-100 rounded-2xl shadow-lg p-8 border border-taupe-200">
                <h2 class="text-3xl font-medium text-taupe-700 mb-6 flex items-center gap-3">
                    <span class="text-3xl"></span> Evening Routine
                </h2>
                <div id="pmRoutine" class="space-y-4"></div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
